<!DOCTYPE html>
<html lang="en">
    <% 
    function buscarError(name){
        if(typeof errors != 'undefined'){
            let error = errors.filter(function(error){
                return error.param == name;
            });
            return error;
        }else{
            return [{
                value: '',
                msg: '',
                param: '',
                location: ''
            }
            ];
        }
    }
    
    %> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <style>
        ul.errors{
            background:rgb(195, 92, 92);
            border:1px solid black;
            border-radius:10px;
            padding:10px;
            width:400px;
        }
        ul li{
            color:white;
            font-size:12px;
        }
    </style>
</head>
<body>
    <h4>Bienvenido! Registrate!</h4>
    <% if(typeof errors != 'undefined'){ %>
        <ul class="errors">
        <% for(var i = 0; i < errors.length; i++){   %>
            <li class="is-invalid"><%= errors[i].msg %></li>
        <% }  %>
        </ul>
    <% } %>
    <form action="/users/register" method="POST">
        Nombre:
        <input type="text" name="name">
        <%= buscarError('name')[0].msg %>
        <br>
        Email:
        <input type="email" name="email">
        <%= buscarError('email')[0].msg %>
        <br>
        Contrase√±a:
        <input type="password" name="password">
        <%= buscarError('password')[0].msg %>
        <br>
        <button type="submit">Registrarme</button>
    </form>
</body>
</html>